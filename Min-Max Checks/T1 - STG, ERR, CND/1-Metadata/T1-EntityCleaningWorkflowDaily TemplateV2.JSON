{
    "Version": "1.01.02",
    "SchemaVersion": "0.01.01",
    "TemplateEntities": [
        {
            "EntityId": "[#Entity.EntityId#]_T1_STG",
            "Name": "[#Entity.Name#] - staging",
            "Tag": "[#Entity.Tag#]_T1_STG",
            "Description": "[#Entity.Description#] - staging",
            "FormalName": "[#Entity.FormalName#]_T1_STG",
            "IdColumnRef": "n/a",
            "IsRepeatable": "N",
            "IsHierarchical": "N",
            "SortOrder": "[#Entity.SortOrder#]",
            "Columns": [
                {
                    "ColumnId": "[#Entity.Columns(*).ColumnId#]",
                    "PhysicalName": "[#Entity.Columns(*).PhysicalName#]",
                    "Name": "[#Entity.Columns(*).Name#]",
                    "Tag": "[#Entity.Columns(*).Tag#]",
                    "Description": "[#Entity.Columns(*).Description#]",
                    "IsRequired": "[#Entity.Columns(*).IsRequired#]",
                    "IsIndexed": "[#Entity.Columns(*).IsIndexed#]",
                    "IsCalculated": "[#Entity.Columns(*).IsCalculated#]",
                    "Format": "?",
                    "Datatype": "S",
                    "SortOrder": "[#Entity.Columns(*).SortOrder#]"
                }, {
                    "ColumnId": "qH_PROCESS",
                    "PhysicalName": "qH_PROCESS",
                    "Name": "Process ID",
                    "Tag": "qH_PROCESS",
                    "Description": "Process ID",
                    "IsRequired": "Y",
                    "IsIndexed": "Y",
                    "IsCalculated": "N",
                    "Format": "FM999999999999999999",
                    "Datatype": "N",
                    "SortOrder": 100080
                }, {
                    "ColumnId": "qH_TIMESTAMP_INSERTED",
                    "PhysicalName": "qH_TIMESTAMP_INSERTED",
                    "Name": "Timestamp inserted",
                    "Tag": "qH_TIMESTAMP_INSERTED",
                    "Description": "Timestamp inserted",
                    "IsRequired": "Y",
                    "IsIndexed": "Y",
                    "IsCalculated": "N",
                    "Format": "dd/MM/yyyy'T'HH:mm:ssX",
                    "Datatype": "D",
                    "SortOrder": 100090
                }, {
                    "ColumnId": "qH_BUSINESS_DATE",
                    "PhysicalName": "qH_BUSINESS_DATE",
                    "Name": "Business date, derived from the Timestamp inserted",
                    "Tag": "qH_BUSINESS_DATE",
                    "Description": "Business date, derived from the Timestamp inserted",
                    "IsRequired": "Y",
                    "IsIndexed": "Y",
                    "IsCalculated": "N",
                    "Format": "dd/MM/yyyy",
                    "Datatype": "D",
                    "SortOrder": 100110
                }, {
                    "ColumnId": "qH_DATASOURCE",
                    "PhysicalName": "qH_DATASOURCE",
                    "Name": "Source data authority",
                    "Tag": "qH_DATASOURCE",
                    "Description": "Source data authority",
                    "IsRequired": "Y",
                    "IsIndexed": "Y",
                    "IsCalculated": "N",
                    "Format": "?",
                    "Datatype": "S",
                    "SortOrder": 100120
                }, {
                    "ColumnId": "qH_SOURCEDATE",
                    "PhysicalName": "qH_SOURCEDATE",
                    "Name": "Source date",
                    "Tag": "qH_SOURCEDATE",
                    "Description": "Source date",
                    "IsRequired": "Y",
                    "IsIndexed": "Y",
                    "IsCalculated": "N",
                    "Format": "dd/MM/yyyy",
                    "Datatype": "D",
                    "SortOrder": 100125
                }, {
                    "ColumnId": "qH_ROWID",
                    "PhysicalName": "qH_ROWID",
                    "Name": "Autogenerated row id",
                    "Tag": "qH_ROWID",
                    "Description": "Autogenerated row id",
                   "IsRequired": "Y",
                    "IsIndexed": "Y",
                    "IsCalculated": "N",
                    "Format": "FM999999999999999999",
                    "Datatype": "N",
                    "SortOrder": 100180
                }
            ]
        }, {
            "EntityId": "[#Entity.EntityId#]_T1_ERR",
            "Name": "[#Entity.Name#] - errors",
            "Tag": "[#Entity.Tag#]_T1_ERR",
            "Description": "[#Entity.Description#] - errors",
            "FormalName": "[#Entity.FormalName#]_T1_ERR",
            "IdColumnRef": "n/a",
            "IsRepeatable": "N",
            "IsHierarchical": "N",
            "SortOrder": "[#Entity.SortOrder#]",
            "Columns": [
                {
                    "ColumnId": "[#Entity.Columns(*).ColumnId#]",
                    "PhysicalName": "[#Entity.Columns(*).PhysicalName#]",
                    "Name": "[#Entity.Columns(*).Name#]",
                    "Tag": "[#Entity.Columns(*).Tag#]",
                    "Description": "[#Entity.Columns(*).Description#]",
                    "IsRequired": "[#Entity.Columns(*).IsRequired#]",
                    "IsIndexed": "[#Entity.Columns(*).IsIndexed#]",
                    "IsCalculated": "[#Entity.Columns(*).IsCalculated#]",
                    "Format": "?",
                    "Datatype": "S",
                    "SortOrder": "[#Entity.Columns(*).SortOrder#]"
                }, {
                    "ColumnId": "qH_PROCESS",
                    "PhysicalName": "qH_PROCESS",
                    "Name": "Process ID",
                    "Tag": "qH_PROCESS",
                    "Description": "Process ID",
                    "IsRequired": "Y",
                    "IsIndexed": "Y",
                    "IsCalculated": "N",
                    "Format": "FM999999999999999999",
                    "Datatype": "N",
                    "SortOrder": 100080
                }, {
                    "ColumnId": "qH_TIMESTAMP_INSERTED",
                    "PhysicalName": "qH_TIMESTAMP_INSERTED",
                    "Name": "Timestamp inserted",
                    "Tag": "qH_TIMESTAMP_INSERTED",
                    "Description": "Timestamp inserted",
                    "IsRequired": "Y",
                    "IsIndexed": "Y",
                    "IsCalculated": "N",
                    "Format": "dd/MM/yyyy'T'HH:mm:ssX",
                    "Datatype": "D",
                    "SortOrder": 100090
                }, {
                    "ColumnId": "qH_BUSINESS_DATE",
                    "PhysicalName": "qH_BUSINESS_DATE",
                    "Name": "Business date, derived from the Timestamp inserted",
                    "Tag": "qH_BUSINESS_DATE",
                    "Description": "Business date, derived from the Timestamp inserted",
                    "IsRequired": "Y",
                    "IsIndexed": "Y",
                    "IsCalculated": "N",
                    "Format": "dd/MM/yyyy",
                    "Datatype": "D",
                    "SortOrder": 100110
                }, {
                    "ColumnId": "qH_DATASOURCE",
                    "PhysicalName": "qH_DATASOURCE",
                    "Name": "Source data authority",
                    "Tag": "qH_DATASOURCE",
                    "Description": "Source data authority",
                    "IsRequired": "Y",
                    "IsIndexed": "Y",
                    "IsCalculated": "N",
                    "Format": "?",
                    "Datatype": "S",
                    "SortOrder": 100120
                }, {
                    "ColumnId": "qH_SOURCEDATE",
                    "PhysicalName": "qH_SOURCEDATE",
                    "Name": "Source date",
                    "Tag": "qH_SOURCEDATE",
                    "Description": "Source date",
                    "IsRequired": "Y",
                    "IsIndexed": "Y",
                    "IsCalculated": "N",
                    "Format": "dd/MM/yyyy",
                    "Datatype": "D",
                    "SortOrder": 100125
                }, {
                    "ColumnId": "qH_ROWID",
                    "PhysicalName": "qH_ROWID",
                    "Name": "Autogenerated row id",
                    "Tag": "qH_ROWID",
                    "Description": "Autogenerated row id",
                   "IsRequired": "Y",
                    "IsIndexed": "Y",
                    "IsCalculated": "N",
                    "Format": "FM999999999999999999",
                    "Datatype": "N",
                    "SortOrder": 100180
                }
            ]
        }, {
            "EntityId": "[#Entity.EntityId#]_T1_CND",
            "Name": "[#Entity.Name#] - candidate",
            "Tag": "[#Entity.Tag#]_T1_CND",
            "Description": "[#Entity.Description#] - candidate",
            "FormalName": "[#Entity.FormalName#]_T1_CND",
            "IdColumnRef": "[#Entity.IdColumnRef#]",
            "IsRepeatable": "[#Entity.IsRepeatable#]",
            "IsHierarchical": "[#Entity.IsHierarchical#]",
            "SortOrder": "[#Entity.SortOrder#]",
            "Columns": [
                {
                    "ColumnId": "[#Entity.Columns(*).ColumnId#]",
                    "PhysicalName": "[#Entity.Columns(*).PhysicalName#]",
                    "Name": "[#Entity.Columns(*).Name#]",
                    "Tag": "[#Entity.Columns(*).Tag#]",
                    "Description": "[#Entity.Columns(*).Description#]",
                    "IsRequired": "[#Entity.Columns(*).IsRequired#]",
                    "IsIndexed": "[#Entity.Columns(*).IsIndexed#]",
                    "IsCalculated": "[#Entity.Columns(*).IsCalculated#]",
                    "Format": "[#Entity.Columns(*).Format#]",
                    "Datatype": "[#Entity.Columns(*).Datatype#]",
                    "SortOrder": "[#Entity.Columns(*).SortOrder#]"
                }, {
                    "ColumnId": "qH_PROCESS",
                    "PhysicalName": "qH_PROCESS",
                    "Name": "Process ID",
                    "Tag": "qH_PROCESS",
                    "Description": "Process ID",
                    "IsRequired": "Y",
                    "IsIndexed": "Y",
                    "IsCalculated": "N",
                    "Format": "FM999999999999999999",
                    "Datatype": "N",
                    "SortOrder": 100080
                }, {
                    "ColumnId": "qH_TIMESTAMP_INSERTED",
                    "PhysicalName": "qH_TIMESTAMP_INSERTED",
                    "Name": "Timestamp inserted",
                    "Tag": "qH_TIMESTAMP_INSERTED",
                    "Description": "Timestamp inserted",
                    "IsRequired": "Y",
                    "IsIndexed": "Y",
                    "IsCalculated": "N",
                    "Format": "dd/MM/yyyy'T'HH:mm:ssX",
                    "Datatype": "D",
                    "SortOrder": 100090
                }, {
                    "ColumnId": "qH_BUSINESS_DATE",
                    "PhysicalName": "qH_BUSINESS_DATE",
                    "Name": "Business date, derived from the Timestamp inserted",
                    "Tag": "qH_BUSINESS_DATE",
                    "Description": "Business date, derived from the Timestamp inserted",
                    "IsRequired": "Y",
                    "IsIndexed": "Y",
                    "IsCalculated": "N",
                    "Format": "dd/MM/yyyy",
                    "Datatype": "D",
                    "SortOrder": 100110
                }, {
                    "ColumnId": "qH_DATASOURCE",
                    "PhysicalName": "qH_DATASOURCE",
                    "Name": "Source data authority",
                    "Tag": "qH_DATASOURCE",
                    "Description": "Source data authority",
                    "IsRequired": "Y",
                    "IsIndexed": "Y",
                    "IsCalculated": "N",
                    "Format": "?",
                    "Datatype": "S",
                    "SortOrder": 100120
                }, {
                    "ColumnId": "qH_SOURCEDATE",
                    "PhysicalName": "qH_SOURCEDATE",
                    "Name": "Source date",
                    "Tag": "qH_SOURCEDATE",
                    "Description": "Source date",
                    "IsRequired": "Y",
                    "IsIndexed": "Y",
                    "IsCalculated": "N",
                    "Format": "dd/MM/yyyy",
                    "Datatype": "D",
                    "SortOrder": 100125
                }, {
                    "ColumnId": "qH_ROWID",
                    "PhysicalName": "qH_ROWID",
                    "Name": "Autogenerated row id",
                    "Tag": "qH_ROWID",
                    "Description": "Autogenerated row id",
                   "IsRequired": "Y",
                    "IsIndexed": "Y",
                    "IsCalculated": "N",
                    "Format": "FM999999999999999999",
                    "Datatype": "N",
                    "SortOrder": 100180
                }
            ]
        }
    ],
    "TemplateTables": [
        {
            "SchemaRef": "[#Schema.SchemaId#]",
            "EntityRef": "[#Entity.EntityId#]_T1_STG",
            "SortOrder": "[#Entity.SortOrder#]",
            "Columns": [
                {
                    "ColumnRef": "[#Entity.Columns(*).ColumnId#]",
                    "SortOrder": "[#Entity.Columns(*).SortOrder#]"
                }, {
                    "ColumnRef": "qH_PROCESS",
                    "IsPartitioned": "Y",
                    "PartitionOrder": 2,
                    "SortOrder": 100080
                }, {
                    "ColumnRef": "qH_TIMESTAMP_INSERTED",
                    "SortOrder": 100090
                }, {
                    "ColumnRef": "qH_BUSINESS_DATE",
                    "IsPartitioned": "Y",
                    "PartitionOrder": 1,
                    "SortOrder": 100110
                }, {
                    "ColumnRef": "qH_DATASOURCE",
                    "SortOrder": 100120
                }, {
                    "ColumnRef": "qH_SOURCEDATE",
                    "SortOrder": 100125
                }, {
                    "ColumnRef": "qH_ROWID",
                    "SortOrder": 100180
                }
            ]
        }, {
            "SchemaRef": "[#Schema.SchemaId#]",
            "EntityRef": "[#Entity.EntityId#]_T1_ERR",
            "SortOrder": "[#Entity.SortOrder#]",
            "Columns": [
                {
                    "ColumnRef": "[#Entity.Columns(*).ColumnId#]",
                    "SortOrder": "[#Entity.Columns(*).SortOrder#]"
                }, {
                    "ColumnRef": "qH_PROCESS",
                    "IsPartitioned": "Y",
                    "PartitionOrder": 2,
                    "SortOrder": 100080
                }, {
                    "ColumnRef": "qH_TIMESTAMP_INSERTED",
                    "SortOrder": 100090
                }, {
                    "ColumnRef": "qH_BUSINESS_DATE",
                    "IsPartitioned": "Y",
                    "PartitionOrder": 1,
                    "SortOrder": 100110
                }, {
                    "ColumnRef": "qH_DATASOURCE",
                    "SortOrder": 100120
                }, {
                    "ColumnRef": "qH_SOURCEDATE",
                    "SortOrder": 100125
                }, {
                    "ColumnRef": "qH_ROWID",
                    "SortOrder": 100180
                }
            ]
        }, {
            "SchemaRef": "[#Schema.SchemaId#]",
            "EntityRef": "[#Entity.EntityId#]_T1_CND",
            "SortOrder": "[#Entity.SortOrder#]",
            "Columns": [
                {
                    "ColumnRef": "[#Entity.Columns(*).ColumnId#]",
                    "SortOrder": "[#Entity.Columns(*).SortOrder#]"
                }, {
                    "ColumnRef": "qH_PROCESS",
                    "SortOrder": 100080
                }, {
                    "ColumnRef": "qH_TIMESTAMP_INSERTED",
                    "SortOrder": 100090
                }, {
                    "ColumnRef": "qH_BUSINESS_DATE",
                    "IsPartitioned": "Y",
                    "PartitionOrder": 1,
                    "SortOrder": 100110
                }, {
                    "ColumnRef": "qH_DATASOURCE",
                    "SortOrder": 100120
                }, {
                    "ColumnRef": "qH_SOURCEDATE",
                    "SortOrder": 100125
                }, {
                    "ColumnRef": "qH_ROWID",
                    "SortOrder": 100180
                }
            ]
        }
    ],
    "TemplateOutputs": [
        {
            "OutputId": "WFOUT_[#Schema.SchemaId#].[#Entity.EntityId#]_T1_STG",
            "SchemaRef": "#ANY_TABLE#",
            "Name": "Output for cleaning of [#Entity.Name#] - move to staging",
            "Description": "Output for cleaning of [#Entity.Name#] - move to staging",
            "Tag": "WORKFLOW_STEP",
            "Tables": [
                {
                    "TableRef": "#ANY_TABLE#",
                    "TableAlias": "#ANY_TABLE#",
                    "SortOrder": 10,
                    "Columns": [
                        {
                            "OutputColumnId": "[#Entity.Columns(*).PhysicalName#]",
                            "IsVisible": "Y",
                            "IsInsertable": "Y",
                            "IsEditable": "Y",
                            "IsRequired": "Y",
                            "ColumnRef": "COL[#Entity.Columns(*).Num#]",
                            "SortOrder": "[#Entity.Columns(*).SortOrder#]"
                        }, {
                            "OutputColumnId": "qH_PROCESS",
                            "IsVisible": "Y",
                            "IsInsertable": "Y",
                            "IsEditable": "Y",
                            "IsRequired": "Y",
                            "Expression": "#IDBFCPROCESS#",
                            "SortOrder": 100080
                        }, {
                            "OutputColumnId": "qH_TIMESTAMP_INSERTED",
                            "IsVisible": "Y",
                            "IsInsertable": "Y",
                            "IsEditable": "Y",
                            "IsRequired": "Y",
                            "Function": {
                                "FunctionRef": "SPARK#SYSDATETIME"
                            },
                            "SortOrder": 100090
                        }, {
                            "OutputColumnId": "qH_BUSINESS_DATE",
                            "IsVisible": "Y",
                            "IsInsertable": "Y",
                            "IsEditable": "Y",
                            "IsRequired": "Y",
                            "Expression": "TO_DATE ('#BUSINESS_DATE#', 'yyyyMMdd')",
                            "SortOrder": 100110
                        }, {
                            "OutputColumnId": "qH_DATASOURCE",
                            "IsVisible": "Y",
                            "IsInsertable": "Y",
                            "IsEditable": "Y",
                            "IsRequired": "Y",
                            "Expression": "'#DATASOURCE#'",
                            "SortOrder": 100120
                        }, {
                            "OutputColumnId": "qH_SOURCEDATE",
                            "IsVisible": "Y",
                            "IsInsertable": "Y",
                            "IsEditable": "Y",
                            "IsRequired": "Y",
                            "Expression": "TO_DATE ('#SOURCEDATE#', 'yyyyMMdd')",
                            "SortOrder": 100125
                        }, {
                            "OutputColumnId": "qH_ROWID",
                            "IsVisible": "Y",
                            "IsInsertable": "Y",
                            "IsEditable": "Y",
                            "IsRequired": "Y",
                            "Function": {
                                "FunctionRef": "SPARK#ROWID"
                            },
                            "SortOrder": 100180
                        }
                    ]
                }
            ]
        }, {
            "OutputId": "WFOUT_[#Schema.SchemaId#].[#Entity.EntityId#]_T1_ERR",
            "SchemaRef": "[#Schema.SchemaId#]",
            "Name": "Output for cleaning of [#Entity.Name#] - move to errors",
            "Description": "Output for cleaning of [#Entity.Name#] - move to errors",
            "Tag": "WORKFLOW_STEP",
            "Tables": [
                {
                    "TableRef": "[#Entity.EntityId#]_T1_STG",
                    "TableAlias": "[#Entity.EntityId#]_T1_STG",
                    "SortOrder": 10,
                    "Columns": [
                        {
                            "OutputColumnId": "[#Entity.Columns(*).PhysicalName#]",
                            "IsVisible": "Y",
                            "IsInsertable": "Y",
                            "IsEditable": "Y",
                            "IsRequired": "Y",
                            "ColumnRef": "[#Entity.Columns(*).ColumnId#]",
                            "SortOrder": "[#Entity.Columns(*).SortOrder#]"
                        }, {
                            "OutputColumnId": "qH_PROCESS",
                            "IsVisible": "Y",
                            "IsInsertable": "Y",
                            "IsEditable": "Y",
                            "IsRequired": "Y",
                            "ColumnRef": "qH_PROCESS",
                            "SortOrder": 100080
                        }, {
                            "OutputColumnId": "qH_TIMESTAMP_INSERTED",
                            "IsVisible": "Y",
                            "IsInsertable": "Y",
                            "IsEditable": "Y",
                            "IsRequired": "Y",
                            "ColumnRef": "qH_TIMESTAMP_INSERTED",
                            "SortOrder": 100090
                        }, {
                            "OutputColumnId": "qH_BUSINESS_DATE",
                            "IsVisible": "Y",
                            "IsInsertable": "Y",
                            "IsEditable": "Y",
                            "IsRequired": "Y",
                            "ColumnRef": "qH_BUSINESS_DATE",
                            "SortOrder": 100110
                        }, {
                            "OutputColumnId": "qH_DATASOURCE",
                            "IsVisible": "Y",
                            "IsInsertable": "Y",
                            "IsEditable": "Y",
                            "IsRequired": "Y",
                            "ColumnRef": "qH_DATASOURCE",
                            "SortOrder": 100120
                        }, {
                            "OutputColumnId": "qH_SOURCEDATE",
                            "IsVisible": "Y",
                            "IsInsertable": "Y",
                            "IsEditable": "Y",
                            "IsRequired": "Y",
                            "ColumnRef": "qH_SOURCEDATE",
                            "SortOrder": 100125
                        }, {
                            "OutputColumnId": "qH_ROWID",
                            "IsVisible": "Y",
                            "IsInsertable": "Y",
                            "IsEditable": "Y",
                            "IsRequired": "Y",
                            "ColumnRef": "qH_ROWID",
                            "SortOrder": 100180
                        }
                    ]
                }
            ]
        }, {
            "OutputId": "WFOUT_[#Schema.SchemaId#].[#Entity.EntityId#]_T1_CND",
            "SchemaRef": "[#Schema.SchemaId#]",
            "Name": "Output for cleaning of [#Entity.Name#] - move to candidates",
            "Description": "Output for cleaning of [#Entity.Name#] - move to candidates",
            "Tag": "WORKFLOW_STEP",
            "Tables": [
                {
                    "TableRef": "[#Entity.EntityId#]_T1_STG",
                    "TableAlias": "[#Entity.EntityId#]_T1_STG",
                    "SortOrder": 10,
                    "Columns": [
                        {
                            "OutputColumnId": "[#Entity.Columns(*).PhysicalName#]",
                            "IsVisible": "Y",
                            "IsInsertable": "Y",
                            "IsEditable": "Y",
                            "IsRequired": "Y",
                            "Function": {
                                "FunctionRef": "SPARK#TO_[#Entity.Columns(*).Datatype.Name#]",
                                "Parameters": [
                                    {
                                        "Position": 1,
                                        "OutputColumnRef": "[#Entity.Columns(*).ColumnId#]"
                                    },
                                    {
                                        "Position": 2,
                                        "Constant": "[#Entity.Columns(*).Format#]"
                                    }
                                ]
                            },
                            "SortOrder": "[#Entity.Columns(*).SortOrder#]"
                        }, {
                            "OutputColumnId": "qH_PROCESS",
                            "IsVisible": "Y",
                            "IsInsertable": "Y",
                            "IsEditable": "Y",
                            "IsRequired": "Y",
                            "ColumnRef": "qH_PROCESS",
                            "SortOrder": 100080
                        }, {
                            "OutputColumnId": "qH_TIMESTAMP_INSERTED",
                            "IsVisible": "Y",
                            "IsInsertable": "Y",
                            "IsEditable": "Y",
                            "IsRequired": "Y",
                            "ColumnRef": "qH_TIMESTAMP_INSERTED",
                            "SortOrder": 100090
                        }, {
                            "OutputColumnId": "qH_BUSINESS_DATE",
                            "IsVisible": "Y",
                            "IsInsertable": "Y",
                            "IsEditable": "Y",
                            "IsRequired": "Y",
                            "ColumnRef": "qH_BUSINESS_DATE",
                            "SortOrder": 100110
                        }, {
                            "OutputColumnId": "qH_DATASOURCE",
                            "IsVisible": "Y",
                            "IsInsertable": "Y",
                            "IsEditable": "Y",
                            "IsRequired": "Y",
                            "ColumnRef": "qH_DATASOURCE",
                            "SortOrder": 100120
                        }, {
                            "OutputColumnId": "qH_SOURCEDATE",
                            "IsVisible": "Y",
                            "IsInsertable": "Y",
                            "IsEditable": "Y",
                            "IsRequired": "Y",
                            "ColumnRef": "qH_SOURCEDATE",
                            "SortOrder": 100125
                        }, {
                            "OutputColumnId": "qH_ROWID",
                            "IsVisible": "Y",
                            "IsInsertable": "Y",
                            "IsEditable": "Y",
                            "IsRequired": "Y",
                            "ColumnRef": "qH_ROWID",
                            "SortOrder": 100180
                        }
                    ]
                }
            ]
        }
    ],
    "TemplateFilters": [
        {
            "FilterId": "WFFIL_[#Schema.SchemaId#].[#Entity.EntityId#]_T1_PROCID",
            "SchemaRef": "[#Schema.SchemaId#]",
            "Name": "Filter for cleaning of [#Entity.Name#] - process ID",
            "Description": "Filter for cleaning of [#Entity.Name#] - process ID",
            "Tag": "WORKFLOW_STEP",
            "Conditions": [
                {
                    "LogicalOperator": "AND",
                    "HasOpenBracket": "Y",
                    "LeftJoinIndicator": "N",
                    "TableLeftRef": "[#Entity.EntityId#]_T1_STG",
                    "ColumnLeftRef": "qH_PROCESS",
                    "Operator": "=",
                    "ExpressionRight": "#IDBFCPROCESS#",
                    "RightJoinIndicator": "N",
                    "HasClosingBracket": "Y",
                    "SortOrder": 1
                }
            ]
        }, {
            "FilterId": "WFFIL_[#Schema.SchemaId#].[#Entity.EntityId#]_T1_ERR",
            "SchemaRef": "[#Schema.SchemaId#]",
            "Name": "Filter for cleaning of [#Entity.Name#] - errors",
            "Description": "Filter for cleaning of [#Entity.Name#] - errors",
            "Tag": "WORKFLOW_STEP",
            "Conditions": [
                {
                    "LogicalOperator": "OR",
                    "HasOpenBracket": "N",
                    "LeftJoinIndicator": "N",
                    "FunctionLeft": {
                        "FunctionRef": "SPARK#IS_[#Entity.Columns(*).Datatype.Name#]",
                        "Parameters": [
                            {
                                "Position": 1,
                                "OutputColumnRef": "[#Entity.Columns(*).ColumnId#]"
                            }, {
                                "Position": 2,
                                "Constant": "[#Entity.Columns(*).Format#]"
                            }
                        ]
                    },
                    "Operator": "=",
                    "ExpressionRight": "0",
                    "RightJoinIndicator": "N",
                    "HasClosingBracket": "N",
                    "SortOrder": "[#Entity.Columns(*).SortOrder#]"
                }, {
                    "LogicalOperator": "OR",
                    "HasOpenBracket": "N",
                    "LeftJoinIndicator": "N",
                    "FunctionLeft": {
                        "FunctionRef": "SPARK#MIN_[#Entity.Columns(*).Datatype.Name#]",
                        "Parameters": [
                            {
                                "Position": 1,
                                "OutputColumnRef": "[#Entity.Columns(*).ColumnId#]"
                            }, {
                                "Position": 2,
                                "Constant": "[#Entity.Columns(*).Properties(Validation.MinValueOrLength).PropertyValue#]"
                            }, {
                                "Position": 3,
                                "Constant": "[#Entity.Columns(*).Format#]"
                            }
                        ]
                    },
                    "Operator": "=",
                    "ExpressionRight": "0",
                    "RightJoinIndicator": "N",
                    "HasClosingBracket": "N",
                    "SortOrder": "=[#Entity.Columns(*).SortOrder#] + 100000000"
                }, {
                    "LogicalOperator": "OR",
                    "HasOpenBracket": "N",
                    "LeftJoinIndicator": "N",
                    "FunctionLeft": {
                        "FunctionRef": "SPARK#MAX_[#Entity.Columns(*).Datatype.Name#]",
                        "Parameters": [
                            {
                                "Position": 1,
                                "OutputColumnRef": "[#Entity.Columns(*).ColumnId#]"
                            }, {
                                "Position": 2,
                                "Constant": "[#Entity.Columns(*).Properties(Validation.MaxValueOrLength).PropertyValue#]"
                            }, {
                                "Position": 3,
                                "Constant": "[#Entity.Columns(*).Format#]"
                            }
                        ]
                    },
                    "Operator": "=",
                    "ExpressionRight": "0",
                    "RightJoinIndicator": "N",
                    "HasClosingBracket": "N",
                    "SortOrder": "=[#Entity.Columns(*).SortOrder#] + 200000000"
                }
            ]
        }, {
            "FilterId": "WFFIL_[#Schema.SchemaId#].[#Entity.EntityId#]_T1_CND",
            "SchemaRef": "[#Schema.SchemaId#]",
            "Name": "Filter for cleaning of [#Entity.Name#] - candidates",
            "Description": "Filter for cleaning of [#Entity.Name#] - candidates",
            "Tag": "WORKFLOW_STEP",
            "Conditions": [
                {
                    "LogicalOperator": "AND",
                    "HasOpenBracket": "N",
                    "LeftJoinIndicator": "N",
                    "FunctionLeft": {
                        "FunctionRef": "SPARK#IS_[#Entity.Columns(*).Datatype.Name#]",
                        "Parameters": [
                            {
                                "Position": 1,
                                "OutputColumnRef": "[#Entity.Columns(*).ColumnId#]"
                            }, {
                                "Position": 2,
                                "Constant": "[#Entity.Columns(*).Format#]"
                            }
                        ]
                    },
                    "Operator": "<>",
                    "ExpressionRight": "0",
                    "RightJoinIndicator": "N",
                    "HasClosingBracket": "N",
                    "SortOrder": "[#Entity.Columns(*).SortOrder#]"
                }, {
                    "LogicalOperator": "AND",
                    "HasOpenBracket": "N",
                    "LeftJoinIndicator": "N",
                    "FunctionLeft": {
                        "FunctionRef": "SPARK#MIN_[#Entity.Columns(*).Datatype.Name#]",
                        "Parameters": [
                            {
                                "Position": 1,
                                "OutputColumnRef": "[#Entity.Columns(*).ColumnId#]"
                            }, {
                                "Position": 2,
                                "Constant": "[#Entity.Columns(*).Properties(Validation.MinValueOrLength).PropertyValue#]"
                            }, {
                                "Position": 3,
                                "Constant": "[#Entity.Columns(*).Format#]"
                            }
                        ]
                    },
                    "Operator": "<>",
                    "ExpressionRight": "0",
                    "RightJoinIndicator": "N",
                    "HasClosingBracket": "N",
                    "SortOrder": "=[#Entity.Columns(*).SortOrder#] + 100000000"
                }, {
                    "LogicalOperator": "AND",
                    "HasOpenBracket": "N",
                    "LeftJoinIndicator": "N",
                    "FunctionLeft": {
                        "FunctionRef": "SPARK#MAX_[#Entity.Columns(*).Datatype.Name#]",
                        "Parameters": [
                            {
                                "Position": 1,
                                "OutputColumnRef": "[#Entity.Columns(*).ColumnId#]"
                            }, {
                                "Position": 2,
                                "Constant": "[#Entity.Columns(*).Properties(Validation.MaxValueOrLength).PropertyValue#]"
                            }, {
                                "Position": 3,
                                "Constant": "[#Entity.Columns(*).Format#]"
                            }
                        ]
                    },
                    "Operator": "<>",
                    "ExpressionRight": "0",
                    "RightJoinIndicator": "N",
                    "HasClosingBracket": "N",
                    "SortOrder": "=[#Entity.Columns(*).SortOrder#] + 200000000"
                }
            ]
        }
    ],
    "TemplateQueries": [
        {
            "QueryId": "WFQUE_[#Schema.SchemaId#].[#Entity.EntityId#]_T1_STG",
            "SchemaRef": "#ANY_TABLE#",
            "Name": "Query for cleaning of [#Entity.Name#] - move to staging",
            "Description": "Query for cleaning of [#Entity.Name#] - move to staging",
            "IsDefaultedNull": "N",
            "UseOutputTags": "N",
            "Tag": "WORKFLOW_STEP",
            "Outputs": [
                {
                    "OutputRef": "WFOUT_[#Schema.SchemaId#].[#Entity.EntityId#]_T1_STG",
                    "SortOrder": 10
                }
            ]
        }, {
            "QueryId": "WFQUE_[#Schema.SchemaId#].[#Entity.EntityId#]_T1_ERR",
            "SchemaRef": "[#Schema.SchemaId#]",
            "Name": "Query for cleaning of [#Entity.Name#] - move to errors",
            "Description": "Query for cleaning of [#Entity.Name#] - move to errors",
            "IsDefaultedNull": "N",
            "UseOutputTags": "N",
            "Tag": "WORKFLOW_STEP",
            "Outputs": [
                {
                    "OutputRef": "WFOUT_[#Schema.SchemaId#].[#Entity.EntityId#]_T1_ERR",
                    "SortOrder": 10
                }
            ],
            "Filters": [
                {
                    "FilterRef": "WFFIL_[#Schema.SchemaId#].[#Entity.EntityId#]_T1_PROCID",
                    "SortOrder": 10
                }, {
                    "FilterRef": "WFFIL_[#Schema.SchemaId#].[#Entity.EntityId#]_T1_ERR",
                    "SortOrder": 20
                }
            ]
        }, {
            "QueryId": "WFQUE_[#Schema.SchemaId#].[#Entity.EntityId#]_T1_CND",
            "SchemaRef": "[#Schema.SchemaId#]",
            "Name": "Query for cleaning of [#Entity.Name#] - candidates",
            "Description": "Query for cleaning of [#Entity.Name#] - candidates",
            "IsDefaultedNull": "N",
            "UseOutputTags": "N",
            "Tag": "WORKFLOW_STEP",
            "Outputs": [
                {
                    "OutputRef": "WFOUT_[#Schema.SchemaId#].[#Entity.EntityId#]_T1_CND",
                    "SortOrder": 10
                }
            ],
            "Filters": [
                {
                    "FilterRef": "WFFIL_[#Schema.SchemaId#].[#Entity.EntityId#]_T1_PROCID",
                    "SortOrder": 10
                }, {
                    "FilterRef": "WFFIL_[#Schema.SchemaId#].[#Entity.EntityId#]_T1_CND",
                    "SortOrder": 20
                }
            ]
        }
    ],
    "TemplateWorkflows": [
        {
            "WorkflowId": "WF_CLEAN_T1_[#Schema.SchemaId#].[#Entity.EntityId#]",
            "TargetRef": "SPARK",
            "Tag": "DATA",
            "Name": "Workflow Clean (T1) [#Entity.Name#]",
            "Description": "Workflow (T1) for cleaning of [#Entity.Name#]",
            "SortOrder": 0,
            "IsRestartable": "Y",
            "MaxRetryCount": 10,
            "Properties": [
                {
                    "PropertyRef": "WF-UPLOAD-TYPE",
                    "PropertyValue": "SINGLE"
                }
            ],
            "Blocks": [
                {
                    "BlockId": "BLK_[#Schema.SchemaId#].[#Entity.EntityId#]_T1_STG",
                    "Name": "BLK_[#Schema.SchemaId#].[#Entity.EntityId#]_T1_STG",
                    "Description": "BLK_[#Schema.SchemaId#].[#Entity.EntityId#]_T1_STG",
                    "SortOrder": 100,
                    "Steps": [
                        {
                            "StepRef": "WS_[#Schema.SchemaId#].[#Entity.EntityId#]_T1_STG",
                            "SortOrder": 10
                        }
                    ]
                },
                {
                    "BlockId": "BLK_[#Schema.SchemaId#].[#Entity.EntityId#]_T1_ERR",
                    "Name": "BLK_[#Schema.SchemaId#].[#Entity.EntityId#]_T1_ERR",
                    "Description": "BLK_[#Schema.SchemaId#].[#Entity.EntityId#]_T1_ERR",
                    "SortOrder": 100,
                    "Steps": [
                        {
                            "StepRef": "WS_[#Schema.SchemaId#].[#Entity.EntityId#]_T1_ERR",
                            "SortOrder": 10
                        }
                    ]
                }
            ],
            "Steps": [
                {
                    "StepId": "WS_[#Schema.SchemaId#].[#Entity.EntityId#]_T1_STG",
                    "Name": "WS_[#Schema.SchemaId#].[#Entity.EntityId#]_T1_STG",
                    "Description": "WS_[#Schema.SchemaId#].[#Entity.EntityId#]_T1_STG",
                    "QueryRef": "WFQUE_[#Schema.SchemaId#].[#Entity.EntityId#]_T1_STG",
                    "Action": "BULKINSERT",
                    "ExecutionEngine": "FDM3CAP",
                    "SortOrder": 1,
                    "StepTargets": {
                        "TargetSchemaRef": "[#Schema.SchemaId#]",
                        "TargetTableRef": "[#Entity.EntityId#]_T1_STG"
                    }
                },
                {
                    "StepId": "WS_[#Schema.SchemaId#].[#Entity.EntityId#]_T1_ERR",
                    "Name": "WS_[#Schema.SchemaId#].[#Entity.EntityId#]_T1_ERR",
                    "Description": "WS_[#Schema.SchemaId#].[#Entity.EntityId#]_T1_ERR",
                    "QueryRef": "WFQUE_[#Schema.SchemaId#].[#Entity.EntityId#]_T1_ERR",
                    "Action": "BULKINSERT",
                    "ExecutionEngine": "FDM3CAP",
                    "SortOrder": 2,
                    "StepTargets": {
                        "TargetSchemaRef": "[#Schema.SchemaId#]",
                        "TargetTableRef": "[#Entity.EntityId#]_T1_ERR"
                    },
                    "StepDependencies": [
                        {
                            "BlockRef": "BLK_[#Schema.SchemaId#].[#Entity.EntityId#]_T1_STG",
                            "MinCompleted": 1,
                            "MaxCompleted": 1,
                            "MinSucceeded": 1,
                            "MaxSucceeded": 1,
                            "SortOrder": 1
                        }
                    ]
                },
                {
                    "StepId": "WS_[#Schema.SchemaId#].[#Entity.EntityId#]_T1_CND",
                    "Name": "WS_[#Schema.SchemaId#].[#Entity.EntityId#]_T1_CND",
                    "Description": "WS_[#Schema.SchemaId#].[#Entity.EntityId#]_T1_CND",
                    "QueryRef": "WFQUE_[#Schema.SchemaId#].[#Entity.EntityId#]_T1_CND",
                    "Action": "BULKINSERT",
                    "ExecutionEngine": "FDM3CAP",
                    "SortOrder": 3,
                    "StepTargets": {
                        "TargetSchemaRef": "[#Schema.SchemaId#]",
                        "TargetTableRef": "[#Entity.EntityId#]_T1_CND"
                    },
                    "StepDependencies": [
                        {
                            "BlockRef": "BLK_[#Schema.SchemaId#].[#Entity.EntityId#]_T1_ERR",
                            "MinCompleted": 1,
                            "MaxCompleted": 1,
                            "MinSucceeded": 1,
                            "MaxSucceeded": 1,
                            "SortOrder": 1
                        }
                    ]
                }
            ],
            "Variables": [
                {
                    "VariableId": "#BUSINESS_DATE#",
                    "Name": "Business date",
                    "DataType": "D",
                    "DefaultValue": "",
                    "SortOrder": 10
                }
            ]
        }
    ]
}